<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BlueZero (BØ): Parsing command line arguments</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BlueZero (BØ)
   </div>
   <div id="projectbrief">Middleware for distributed applications</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Parsing command line arguments </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The BlueZero library handles the parsing of command line options.</p>
<p>Nodes can specify additional options to parse, calling <a class="el" href="b0_8h.html#aa3a39909786051fd2b655e4318a38349">b0::addOption()</a> before <a class="el" href="b0_8h.html#ac55b543fb777f0709e3a135a3f47d852">b0::init()</a>.</p>
<p>The user-specified options will be listed in the help page, among with standard BlueZero command-line options.</p>
<p>An option can be marked as positional using <a class="el" href="b0_8h.html#a6e2f316e67408edc4df45257d884cf80">b0::setPositionalOption()</a>.</p>
<p>Option values can be read, after calling <a class="el" href="b0_8h.html#ac55b543fb777f0709e3a135a3f47d852">b0::init()</a>, using the function <a class="el" href="b0_8h.html#ad971b14397c7b0e12bc1d46ffaa7b2a4">b0::hasOption()</a> and b0::getOption().</p>
<p>Example:</p>
<div class="fragment"><div class="line"></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="b0_8h.html">b0/b0.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><span class="keyword">using</span> std::cout; <span class="keyword">using</span> std::endl;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div><div class="line">{</div><div class="line">    <a class="code" href="b0_8h.html#a639f35ad370773f9d4038ad6af9c1991">b0::addOptionString</a>(<span class="stringliteral">&quot;fancy-name,n&quot;</span>, <span class="stringliteral">&quot;a string arg&quot;</span>);</div><div class="line">    <a class="code" href="b0_8h.html#ab36f7428cbb6d0da88d3eeb832360e05">b0::addOptionIntVector</a>(<span class="stringliteral">&quot;lucky-number,x&quot;</span>, <span class="stringliteral">&quot;an int arg that can appear multiple times&quot;</span>);</div><div class="line">    <a class="code" href="b0_8h.html#a462cab330605ad3632b8386da5b16efe">b0::addOptionStringVector</a>(<span class="stringliteral">&quot;file,f&quot;</span>, <span class="stringliteral">&quot;file arg&quot;</span>, <span class="keyword">nullptr</span>, <span class="keyword">true</span>);</div><div class="line">    <a class="code" href="b0_8h.html#a6e2f316e67408edc4df45257d884cf80">b0::setPositionalOption</a>(<span class="stringliteral">&quot;file&quot;</span>, -1);</div><div class="line">    <a class="code" href="b0_8h.html#ac55b543fb777f0709e3a135a3f47d852">b0::init</a>(argc, argv);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span>(<span class="keyword">auto</span> f : b0::getOptionStringVector(<span class="stringliteral">&quot;file&quot;</span>))</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;file = &quot;</span> &lt;&lt; f &lt;&lt; endl;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>(b0::hasOption(<span class="stringliteral">&quot;lucky-number&quot;</span>))</div><div class="line">    {</div><div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;your lucky numbers are:&quot;</span>;</div><div class="line">        <span class="keywordflow">for</span>(<span class="keyword">auto</span> x : b0::getOptionIntVector(<span class="stringliteral">&quot;lucky-number&quot;</span>))</div><div class="line">            cout &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; x;</div><div class="line">        cout &lt;&lt; endl;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><p>Running the program with the <code>-h</code> option produces the help page, which includes both standard BlueZero node options, and the custom options:</p>
<div class="fragment"><div class="line">Allowed options:</div><div class="line">  -h [ --help ]                         display help message</div><div class="line">  -R [ --remap ] oldName=newName        remap any name</div><div class="line">  -N [ --remap-node ] oldName=newName   remap a node name</div><div class="line">  -T [ --remap-topic ] oldName=newName  remap a topic name</div><div class="line">  -S [ --remap-service ] oldName=newName</div><div class="line">                                        remap a service name</div><div class="line">  -L [ --console-loglevel ] arg (=info) specify the console loglevel</div><div class="line">  -F [ --spin-rate ] arg (=10)          specify the default spin rate</div><div class="line">  -n [ --fancy-name ] arg               a <span class="keywordtype">string</span> arg</div><div class="line">  -x [ --lucky-number ] arg (=23)       an <span class="keywordtype">int</span> arg with default</div><div class="line">  -f [ --file ] arg                     file arg</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
